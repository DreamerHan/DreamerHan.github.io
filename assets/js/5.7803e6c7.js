(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{427:function(s,t,a){s.exports=a.p+"assets/img/0.c9de8ea4.jpg"},428:function(s,t,a){s.exports=a.p+"assets/img/1.a416162c.jpg"},429:function(s,t,a){s.exports=a.p+"assets/img/2.7ef9d43d.png"},430:function(s,t,a){s.exports=a.p+"assets/img/3.81e15891.png"},431:function(s,t){s.exports="data:image/jpeg;base64,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"},432:function(s,t,a){s.exports=a.p+"assets/img/4.9f1eed04.jpg"},433:function(s,t,a){s.exports=a.p+"assets/img/5.8295b95c.png"},434:function(s,t,a){s.exports=a.p+"assets/img/6.67c8764e.png"},554:function(s,t,a){"use strict";a.r(t);var n=a(54),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"jwt-疑惑记录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jwt-疑惑记录"}},[s._v("#")]),s._v(" JWT 疑惑记录")]),s._v(" "),n("p",[s._v("JWT 即 JSON Web Token，是目前最流行的跨域认证解决方案。")]),s._v(" "),n("h2",{attrs:{id:"确认-cookie-和-session-流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确认-cookie-和-session-流程"}},[s._v("#")]),s._v(" 确认 cookie 和 session 流程")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6898630134530752520",target:"_blank",rel:"noopener noreferrer"}},[s._v("更详细的看这个，以下细节也来自于这里"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("cookie 和 session 在最初的认证登录时是一对功能点。"),n("strong",[s._v("cookie 体现在前端，用它来保存认证过的标记（sessionId）；session 体现在后端，用来保存认证过的信息（用户名、密码...）。")])]),s._v(" "),n("h3",{attrs:{id:"cookie-知识点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cookie-知识点"}},[s._v("#")]),s._v(" cookie 知识点")]),s._v(" "),n("ul",[n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("空间限制(Domain/Path)：")]),s._v(" cookie 设置带有空间范围限制，通过 Domain(域名) 或者 Path(路径) 两级处理")],1),s._v(" "),n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("时间限制(Expires/Max-Age)：")]),s._v(" cookie 设置时需要带上时间处理，通过 Expires(具体的时间)、Max-Age(一个毫秒数)中的一种。两种同时存在，Max-Age 优先级更高。如果这两个都没有，就是"),n("strong",[s._v("会话 cookie")]),s._v("，浏览器关闭即消失。")],1),s._v(" "),n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("secure：")]),s._v(" 浏览器只有在加密协议 HTTPS 下，才能将这个 Cookie 发送到服务器。https 下自动开启。")],1),s._v(" "),n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("httpOnly：")]),s._v(" 让 cookie 无法通过 JavaScript 脚本拿到，主要是 Document.cookie 属性、XMLHttpRequest 对象和 Request API 都拿不到该属性。")],1)]),s._v(" "),n("h3",{attrs:{id:"服务端怎么设置-cookie-的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务端怎么设置-cookie-的"}},[s._v("#")]),s._v(" 服务端怎么设置 cookie 的")]),s._v(" "),n("p",[s._v("响应头中设置 "),n("font",{attrs:{size:"4",color:"red"}},[s._v("Set-Cookie")])],1),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置一个")]),s._v("\nSet"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" username"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" domain"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yuming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("blog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Expires"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Wed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" Oct "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2025")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GMT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Secure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" HttpOnly\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当然一次 HTTP 请求中允许重复设置 cookie")]),s._v("\nSet"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" username"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" domain"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yuming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\nSet"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" height"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" domain"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("me"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yuming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\nSet"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" weight"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" domain"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("me"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yuming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n\n")])])]),n("h3",{attrs:{id:"session-搭配-cookie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#session-搭配-cookie"}},[s._v("#")]),s._v(" session 搭配 cookie")]),s._v(" "),n("p",[s._v("那么 session 是如何搭上了 cookie 这艘破船的呢？先来张图看看：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(427),alt:"An image"}})]),s._v(" "),n("ul",[n("li",[s._v("浏览器登录发送账号密码，服务端查用户数据库，校验用户")]),s._v(" "),n("li",[s._v("校验成功后，服务端把用户登录状态存为 Session(它可能包含用户信息、session 状态等)，同时生成一个 sessionId")]),s._v(" "),n("li",[s._v("登录接口返回时通过 "),n("strong",[s._v("Set-Cookie")]),s._v(" 把 sessionId 保存到 cookie 上")]),s._v(" "),n("li",[s._v("此后浏览器再请求业务接口，sessionId 随 cookie 带上")]),s._v(" "),n("li",[s._v("服务端查 sessionId 校验 session")]),s._v(" "),n("li",[s._v("成功后正常做业务处理，返回结果")])]),s._v(" "),n("h3",{attrs:{id:"图中的-session-库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图中的-session-库"}},[s._v("#")]),s._v(" 图中的 Session 库")]),s._v(" "),n("p",[s._v("之前最大的困惑在于，session 为啥老被说成"),n("strong",[s._v("占用内存")]),s._v("，"),n("strong",[s._v("占用资源")]),s._v(" 或者 "),n("strong",[s._v("慢")]),s._v("，了解一下 session 存储方式就好了。")]),s._v(" "),n("ul",[n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("Redis（推荐）：")]),s._v("内存型数据库，以 key-value 的形式存，正合 sessionId-sessionData 的场景；且访问快。")],1),s._v(" "),n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("内存：")]),s._v("直接放到变量里。一旦服务重启就没了")],1),s._v(" "),n("li",[n("font",{attrs:{size:"4",color:"red"}},[s._v("数据库：")]),s._v("普通数据库。性能不高。")],1)]),s._v(" "),n("p",[s._v("看到了吧，保存到变量里占当前服务器内存且容易丢。保存到数据库，就是慢，具体为啥慢不懂。最后就是 Redis，快且不占内存。")]),s._v(" "),n("p",[s._v("但是，后来有了分布式的概念，和集群啥区别我也不懂 🙈🙈🙈")]),s._v(" "),n("p",[s._v("反正个人理解是有了集群就有了负载均衡这个高大上的词，所有的服务先走人家 "),n("code",[s._v("nginx")]),s._v(", nginx 知道当时哪个机器不忙就给你传送过去。但是哈，但是，你万一是在另一个机器上登录的，不忙的机器不知道，那直接变量存储放到内存里那就更不靠谱了。所以，数据库保存或者 redis 保存就更重要了。")]),s._v(" "),n("p",[s._v("如果量比较大呢？所以，你得单独搞个服务来处理数据库或者 redis 来存储这些信息，于是就有人说，不行，这太"),n("strong",[s._v("占用资源")]),s._v("，太浪费钱了，。")]),s._v(" "),n("p",[s._v("你看，还是不太行。")]),s._v(" "),n("p",[s._v("有咩有一种方法，我服务端不保存这些 sessionData 信息，靠逻辑发电。")]),s._v(" "),n("p",[s._v("你来登录，我处理你的登录信息，搞个 "),n("strong",[s._v("标识")]),s._v(" 出来，再发给你，你下次来带着它，我在逻辑里解析这玩意，一解析发现这就是我的东西，那我就认为 We are 伐木累～")]),s._v(" "),n("h2",{attrs:{id:"于是就有了-token"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#于是就有了-token"}},[s._v("#")]),s._v(" 于是就有了 token")]),s._v(" "),n("h3",{attrs:{id:"token-登录流程图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#token-登录流程图"}},[s._v("#")]),s._v(" token 登录流程图")]),s._v(" "),n("p",[s._v("先看图，先看图：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(428),alt:"An Image"}})]),s._v(" "),n("ul",[n("li",[s._v("用户登录，服务端校验账号密码，获得用户信息")]),s._v(" "),n("li",[s._v("把用户信息、密钥 配置编码成 token，还通过 Set-Cookie 保存到浏览器")]),s._v(" "),n("li",[s._v("此后用户请求业务接口，通过 cookie 携带 token")]),s._v(" "),n("li",[s._v("接口校验 token 有效性，进行正常业务接口处理")])]),s._v(" "),n("h3",{attrs:{id:"用-nodejs-举个例子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用-nodejs-举个例子"}},[s._v("#")]),s._v(" 用 nodejs 举个例子")]),s._v(" "),n("p",[s._v("nodejs 通过 "),n("strong",[s._v("cookie-session")]),s._v(" 库就可以处理 token 的形式。")]),s._v(" "),n("p",[s._v("看下面的代码：")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"express"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cookieSession "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cookie-session"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cookieParser "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cookie-parser"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cookieParser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cookieSession")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"token"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 存储到 cookie 的key值，可以不设置，有默认值")]),s._v("\n    signed"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否给 cookie 进行签名处理，为false才可以不提供密钥")]),s._v("\n    maxAge"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" userid"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12345678"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ok"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server is run at 3002"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("p",[s._v("当前的情况下，通过设置 req.session 就将 "),n("code",[s._v('{"userid":"12345678"}')]),s._v(" 保存到了前端，长这个样子：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(429),alt:"An Image"}})]),s._v(" "),n("p",[s._v("这里的 "),n("code",[s._v("eyJ1c2VyaWQiOiIxMjM0NTY3OCJ9")]),s._v("，就是 "),n("code",[s._v('{"userid":"12345678}')]),s._v(" 的 base64 而已。注意，真是转化是是标准 json 形式 "),n("code",[s._v('{"key":"value"}')]),s._v(" 中间没有空格。")]),s._v(" "),n("p",[s._v("如果有个大鸟，他手动转了一个 "),n("code",[s._v('{"userid":"12345678}')]),s._v(" 的 base64，然后替换了自己的 cookie，就可以直接访问 userid 是 12345678 的信息了，这太可怕了。")]),s._v(" "),n("p",[s._v("所以，得防止篡改。"),n("strong",[s._v("给当前的 token 加签名处理。")])]),s._v(" "),n("p",[n("code",[s._v("cookie-session")]),s._v(" 库提供了两个配置：")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于签署和验证 cookie 值的密钥列表，和 secret 相当，可以简单的理解为多个配置。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# keys: ['key1', 'key2', 'key3']")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 签名密钥")]),s._v("\nsecret: "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'harryport'")]),s._v(",\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否给cookie进行签名处理")]),s._v("\nsigned: true,\n")])])]),n("p",[s._v("所以代码更改成了这样：")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"express"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cookieSession "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cookie-session"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cookieParser "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cookie-parser"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cookieParser")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cookieSession")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"token"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 存储到 cookie 的key值，可以不设置，有默认值")]),s._v("\n    signed"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否给 cookie 进行签名处理，设置为 true 必须有 secret 或 keys配置")]),s._v("\n    secret"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 密钥")]),s._v("\n    maxAge"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3600")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("session "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" userid"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12345678"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ok"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server is run at 3002"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),n("p",[s._v("设置完后，cookie 的存储中会多出一个带 .sig 的 cookie，它就是 "),n("code",[s._v('{"userid":"12345678}')]),s._v(" 和 密钥 "),n("code",[s._v("key")]),s._v(" 通过加密算法计算出来的。前端保存如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(430),alt:"An Image"}})]),s._v(" "),n("p",[s._v("它的签名过程如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(431),alt:"An Image"}})]),s._v(" "),n("p",[s._v("所以一个登录有了俩 cookie，别人可以模拟只有 "),n("code",[s._v('{"userid":"abb”}')]),s._v("，却模拟不了 .sig 的 cookie，因为他不知道你的密钥。")]),s._v(" "),n("p",[s._v("但是，总有但是，我不喜欢俩 cookie 咋整？")]),s._v(" "),n("h2",{attrs:{id:"于是有了-jwt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#于是有了-jwt"}},[s._v("#")]),s._v(" 于是有了 JWT")]),s._v(" "),n("p",[s._v("jwt 一般都长这样，三个点连接三个不知道是啥的啥：")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eyJ1c2VyaWQiOiJhIiwiaWF0IjoxNTUxOTUxOTk4fQ"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("jf3kl_uKWRkwjOP6uQRJFqMlwSABcgqqcJofFH5XCo\n")])])]),n("p",[s._v("他们分别是 Header(头部).Payload(负载).Signature(签名)")]),s._v(" "),n("p",[n("img",{attrs:{src:a(432),alt:"An Image"}})]),s._v(" "),n("h4",{attrs:{id:"头部用来声明类型和加密类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#头部用来声明类型和加密类型"}},[s._v("#")]),s._v(" 头部用来声明类型和加密类型")]),s._v(" "),n("p",[n("img",{attrs:{src:a(433),alt:"An Image"}})]),s._v(" "),n("h4",{attrs:{id:"负载是一些别的信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#负载是一些别的信息"}},[s._v("#")]),s._v(" 负载是一些别的信息")]),s._v(" "),n("p",[n("img",{attrs:{src:a(434),alt:"An Image"}})]),s._v(" "),n("h4",{attrs:{id:"签名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#签名"}},[s._v("#")]),s._v(" 签名")]),s._v(" "),n("p",[s._v("签名的生成来源于两部分：")]),s._v(" "),n("ol",[n("li",[s._v("Base64(header) + . + Base64(payload)")]),s._v(" "),n("li",[s._v("配合 "),n("strong",[s._v("secret")]),s._v(" 使用 header 里指定的加密算法对第一部分的组合生成 签名。")])]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("加密算法( Base64(header).Base64(payload), secret )\n")])])]),n("h2",{attrs:{id:"认证流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#认证流程"}},[s._v("#")]),s._v(" 认证流程")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("用户登录时，服务端认证成功后，返回给客户端一个 token")])]),s._v(" "),n("li",[n("p",[s._v("客户端可以将这个 token 保存到本地，localstorage 和 cookie 都可以")])]),s._v(" "),n("li",[n("p",[s._v("后续的接口请求中，需要在请求头中设置 "),n("strong",[s._v("Authorization")]),s._v(" 字段来带上本地保存的 token。Authorization 设置是有固定模式的："),n("code",[s._v("Bearer token值")])])])]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("Authorization"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bearer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("token"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("服务端会检查请求头中 Authorization 字段是否合法，如果合法则允许当前的请求操作。")])]),s._v(" "),n("h2",{attrs:{id:"说点优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#说点优点"}},[s._v("#")]),s._v(" 说点优点")]),s._v(" "),n("p",[s._v("和 session 模式比较的话。。。")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("JWT 是自包含的（内部包含了一些会话信息），因此减少了需要查询数据库的需要")])]),s._v(" "),n("li",[n("p",[s._v("JWT 并不使用 Cookie 的，所以你可以使用任何域名提供你的 API 服务而不需要担心跨域资源共享问题（CORS）")])]),s._v(" "),n("li",[n("p",[s._v("因为用户的状态不再存储在服务端的内存中，所以这是一种无状态的认证机制")])])]),s._v(" "),n("p",[s._v("和 cookie 比较的话。。。\n当你存储到 cookie 中时，这只需要一个 cookie 就可以了。")])])}),[],!1,null,null,null);t.default=e.exports}}]);