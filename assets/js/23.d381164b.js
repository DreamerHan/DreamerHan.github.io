(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{389:function(t,v,_){t.exports=_.p+"assets/img/compass_data.b83eb482.png"},482:function(t,v,_){"use strict";_.r(v);var e=_(54),o=Object(e.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"使用-mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-mongodb"}},[t._v("#")]),t._v(" 使用 Mongodb")]),t._v(" "),e("p",[t._v("首先说一下 "),e("code",[t._v("Mongodb")]),t._v(" 的三个层级："),e("strong",[t._v("数据库(datebase)")]),t._v("、"),e("strong",[t._v("集合(collection)")]),t._v("、"),e("strong",[t._v("文档(document)")])]),t._v(" "),e("p",[t._v("对比 "),e("code",[t._v("mysql")]),t._v("的话，两者的层级概念对应关系大概如下：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("数据库")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("层级 1")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("层级 2")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("层级 3")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mysql")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("database")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("表")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("一行数据")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mongodb")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("database")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("集合")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("文档")])])])]),t._v(" "),e("h2",{attrs:{id:"compass-中的体现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compass-中的体现"}},[t._v("#")]),t._v(" Compass 中的体现")]),t._v(" "),e("p",[t._v("之所以说 "),e("code",[t._v("Mongodb")]),t._v(" 可以存储松散类型的数据。如下，在同一个集合中，每个文档存储的数据类型都可以不同：")]),t._v(" "),e("p",[e("img",{attrs:{src:_(389),alt:"An image"}})]),t._v(" "),e("h2",{attrs:{id:"mongodb-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-命令"}},[t._v("#")]),t._v(" Mongodb 命令")]),t._v(" "),e("p",[t._v("在通过 "),e("code",[t._v("brew services start mongodb-community")]),t._v(" 启动 "),e("code",[t._v("mongodb")]),t._v(" 数据库后，输入 "),e("code",[t._v("mongo")]),t._v(" 回车即可进入命令行工具。")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[e("code",[t._v("show dbs")])]),t._v(" 展示全部的数据库")])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("use 数据库名称")])]),t._v(" 使用或创建一个数据库，如果名称对应的数据库不存在就创建一个；否则就使用指定的数据库")])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("show collections")])]),t._v(" 展示当前数据库的全部集合")])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("db.集合名称.insert({})")])]),t._v(" 在某个集合中"),e("strong",[t._v("插入")]),t._v("数据内容")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("db")]),t._v(" 由于对集合操作时，就已经进入某一个数据库中。所以 db 是一个统称，表示当前数据库")]),t._v(" "),e("li",[e("code",[t._v("集合名称")]),t._v(" 就写对应的集合即可，比如 "),e("code",[t._v("db.blogs")]),t._v(" 指的是该数据库下的 "),e("code",[t._v("blogs")]),t._v(" 集合")]),t._v(" "),e("li",[e("code",[t._v("insert({})")]),t._v(" 就是插入行为了，由于文档是一个"),e("code",[t._v("json")]),t._v("数据形式，所以正常写入 "),e("code",[t._v("json")]),t._v(" 数据结构即可")])])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("db.集合名称.find({ 条件key: 条件value })")])]),t._v(" "),e("strong",[t._v("过滤")]),t._v("某个集合中数据内容")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("db")]),t._v("、"),e("code",[t._v("集合名称")]),t._v(" 和上述相同")]),t._v(" "),e("li",[e("code",[t._v("find()")]),t._v(" 是查询行为，不传入参数表示查询全部数据")]),t._v(" "),e("li",[t._v("筛选条件也是 "),e("code",[t._v("json")]),t._v("形式，如 "),e("code",[t._v('db.blogs.find({"author": "zhangsan"})')])])])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v('db.集合名称.update({ 条件key: 条件value }, {$set: { "更新 key": "更新的 value" } })')])]),t._v(" "),e("strong",[t._v("更新")]),t._v("某个集合数据")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("db")]),t._v("、"),e("code",[t._v("集合名称")]),t._v(" 和上述相同")]),t._v(" "),e("li",[e("code",[t._v("update()")]),t._v(" 是更新行为")]),t._v(" "),e("li",[e("code",[t._v("参数1")]),t._v(" 一个 "),e("code",[t._v("json")])]),t._v(" "),e("li",[e("code",[t._v("参数2")]),t._v(" 更新的内容, 一个 "),e("code",[t._v("json")]),t._v(", "),e("code",[t._v("$set")]),t._v(" 为 key，value 是更新的"),e("code",[t._v("json")]),t._v("数据")])])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("db.集合名称.remove({ 条件key: 条件value })")])]),t._v(" "),e("strong",[t._v("删除")]),t._v("操作")])]),t._v(" "),e("li",[e("p",[e("strong",[e("code",[t._v("sort({ 条件key: 条件value })")])]),t._v(" "),e("strong",[t._v("排序")]),t._v(" 操作，比如 "),e("code",[t._v("db.users.find().sort({ _id: -1 })")]),t._v(" 就是针对 "),e("code",[t._v("_id")]),t._v(" 做倒序排序")])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[e("strong",[e("code",[t._v("db.集合名称.insert()")])]),t._v(" 操作还有"),e("strong",[t._v("创建集合")]),t._v("的作用，如果执行 "),e("code",[t._v("insert")]),t._v(" 时对应的集合名称并不存在，会直接创建对应的集合。")])])])}),[],!1,null,null,null);v.default=o.exports}}]);