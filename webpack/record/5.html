<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é¡¹ç›®æ¨¡å—å¼•ç”¨å¼•å‘çš„è®°å½• | è¡Œä¹Ÿå®‰ç„¶ï¼Œåä¹Ÿå®‰ç„¶</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="éŸ©å¿—è‡»çš„blog">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.a86fb578.js" as="script"><link rel="preload" href="/assets/js/2.f4c76e8f.js" as="script"><link rel="preload" href="/assets/js/4.03ca31d0.js" as="script"><link rel="prefetch" href="/assets/js/10.c61de724.js"><link rel="prefetch" href="/assets/js/100.4d2d0254.js"><link rel="prefetch" href="/assets/js/11.5946abfa.js"><link rel="prefetch" href="/assets/js/12.f35e3c14.js"><link rel="prefetch" href="/assets/js/13.b07a3d91.js"><link rel="prefetch" href="/assets/js/14.bce4ea6a.js"><link rel="prefetch" href="/assets/js/15.22ab3510.js"><link rel="prefetch" href="/assets/js/16.532528f4.js"><link rel="prefetch" href="/assets/js/17.6547aa4e.js"><link rel="prefetch" href="/assets/js/18.fccb4247.js"><link rel="prefetch" href="/assets/js/19.cf7baf86.js"><link rel="prefetch" href="/assets/js/20.80bddd98.js"><link rel="prefetch" href="/assets/js/21.9dd6f94b.js"><link rel="prefetch" href="/assets/js/22.df40fa6b.js"><link rel="prefetch" href="/assets/js/23.d381164b.js"><link rel="prefetch" href="/assets/js/24.23eccce1.js"><link rel="prefetch" href="/assets/js/25.675a5dd3.js"><link rel="prefetch" href="/assets/js/26.134e7b03.js"><link rel="prefetch" href="/assets/js/27.44100860.js"><link rel="prefetch" href="/assets/js/28.51c5575c.js"><link rel="prefetch" href="/assets/js/29.2bb6682f.js"><link rel="prefetch" href="/assets/js/3.dc71286f.js"><link rel="prefetch" href="/assets/js/30.675b9b1e.js"><link rel="prefetch" href="/assets/js/31.12bfff40.js"><link rel="prefetch" href="/assets/js/32.c6ed9587.js"><link rel="prefetch" href="/assets/js/33.5dd439a5.js"><link rel="prefetch" href="/assets/js/34.0d93fa0b.js"><link rel="prefetch" href="/assets/js/35.f16b6751.js"><link rel="prefetch" href="/assets/js/36.84da4777.js"><link rel="prefetch" href="/assets/js/37.f584e26a.js"><link rel="prefetch" href="/assets/js/38.22809fd4.js"><link rel="prefetch" href="/assets/js/39.87565ecd.js"><link rel="prefetch" href="/assets/js/40.99aa2710.js"><link rel="prefetch" href="/assets/js/41.ffdc7e56.js"><link rel="prefetch" href="/assets/js/42.c8035223.js"><link rel="prefetch" href="/assets/js/43.e2214561.js"><link rel="prefetch" href="/assets/js/44.0451c7eb.js"><link rel="prefetch" href="/assets/js/45.c7c5d317.js"><link rel="prefetch" href="/assets/js/46.c515681e.js"><link rel="prefetch" href="/assets/js/47.a8782c24.js"><link rel="prefetch" href="/assets/js/48.8f8216de.js"><link rel="prefetch" href="/assets/js/49.c62cf464.js"><link rel="prefetch" href="/assets/js/5.7803e6c7.js"><link rel="prefetch" href="/assets/js/50.d368641c.js"><link rel="prefetch" href="/assets/js/51.2d563851.js"><link rel="prefetch" href="/assets/js/52.cd107f70.js"><link rel="prefetch" href="/assets/js/53.947bfe0c.js"><link rel="prefetch" href="/assets/js/54.3fd47ce6.js"><link rel="prefetch" href="/assets/js/55.54035b51.js"><link rel="prefetch" href="/assets/js/56.4b338e06.js"><link rel="prefetch" href="/assets/js/57.3dc90d2d.js"><link rel="prefetch" href="/assets/js/58.d8c80a8c.js"><link rel="prefetch" href="/assets/js/59.3ba9b603.js"><link rel="prefetch" href="/assets/js/6.67d8c318.js"><link rel="prefetch" href="/assets/js/60.7de94339.js"><link rel="prefetch" href="/assets/js/61.17ac02b3.js"><link rel="prefetch" href="/assets/js/62.34d201e5.js"><link rel="prefetch" href="/assets/js/63.44d78f9a.js"><link rel="prefetch" href="/assets/js/64.b6341398.js"><link rel="prefetch" href="/assets/js/65.74297b02.js"><link rel="prefetch" href="/assets/js/66.e27db92d.js"><link rel="prefetch" href="/assets/js/67.08815a96.js"><link rel="prefetch" href="/assets/js/68.ab305a80.js"><link rel="prefetch" href="/assets/js/69.244199d4.js"><link rel="prefetch" href="/assets/js/7.6ef23db2.js"><link rel="prefetch" href="/assets/js/70.16c8374a.js"><link rel="prefetch" href="/assets/js/71.32994fc5.js"><link rel="prefetch" href="/assets/js/72.cd5e5614.js"><link rel="prefetch" href="/assets/js/73.95a35acc.js"><link rel="prefetch" href="/assets/js/74.45311324.js"><link rel="prefetch" href="/assets/js/75.5bcdecc4.js"><link rel="prefetch" href="/assets/js/76.524ebead.js"><link rel="prefetch" href="/assets/js/77.b68128ca.js"><link rel="prefetch" href="/assets/js/78.24beb1ca.js"><link rel="prefetch" href="/assets/js/79.086f08d5.js"><link rel="prefetch" href="/assets/js/8.46452597.js"><link rel="prefetch" href="/assets/js/80.05f17557.js"><link rel="prefetch" href="/assets/js/81.892e81b9.js"><link rel="prefetch" href="/assets/js/82.6eed85e0.js"><link rel="prefetch" href="/assets/js/83.55540564.js"><link rel="prefetch" href="/assets/js/84.df22c114.js"><link rel="prefetch" href="/assets/js/85.082bbedf.js"><link rel="prefetch" href="/assets/js/86.7d3cb835.js"><link rel="prefetch" href="/assets/js/87.53fbac2b.js"><link rel="prefetch" href="/assets/js/88.01455844.js"><link rel="prefetch" href="/assets/js/89.f86e57f5.js"><link rel="prefetch" href="/assets/js/9.ef8fa7e5.js"><link rel="prefetch" href="/assets/js/90.923a5b8a.js"><link rel="prefetch" href="/assets/js/91.7a019c2a.js"><link rel="prefetch" href="/assets/js/92.397eea0f.js"><link rel="prefetch" href="/assets/js/93.059d7112.js"><link rel="prefetch" href="/assets/js/94.84e5aa9d.js"><link rel="prefetch" href="/assets/js/95.0f3904d2.js"><link rel="prefetch" href="/assets/js/96.05b74007.js"><link rel="prefetch" href="/assets/js/97.fab30f76.js"><link rel="prefetch" href="/assets/js/98.fe86df06.js"><link rel="prefetch" href="/assets/js/99.68d7a172.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">è¡Œä¹Ÿå®‰ç„¶ï¼Œåä¹Ÿå®‰ç„¶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®å­˜å‚¨" class="dropdown-title"><span class="title">æ•°æ®å­˜å‚¨</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®å­˜å‚¨" class="mobile-dropdown-title"><span class="title">æ•°æ®å­˜å‚¨</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/0.html" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/0.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongodb/0.html" class="nav-link">
  MongoDB
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/common/0.html" class="nav-link">
  vue å¸¸è§åŠŸèƒ½
</a></li><li class="dropdown-item"><!----> <a href="/vue/v3/0.html" class="nav-link">
  ä¸€ä¸ªé¡¹ç›®çš„æ­å»º
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webpack" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="webpack" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/record/0.html" class="nav-link">
  è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/webpack/practice/0.html" class="nav-link">
  å®è·µ
</a></li></ul></div></div><div class="nav-item"><a href="/read/jwt/0.html" class="nav-link">
  Reading
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          NPMåŒ…ä½¿ç”¨è®°å½•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projects/npm/log4js.html" class="nav-link">
  Log4js
</a></li><li class="dropdown-subitem"><a href="/projects/npm/markmap.html" class="nav-link">
  Markmap.js
</a></li><li class="dropdown-subitem"><a href="/projects/npm/react-pdf.html" class="nav-link">
  React-pdf
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®å­˜å‚¨" class="dropdown-title"><span class="title">æ•°æ®å­˜å‚¨</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®å­˜å‚¨" class="mobile-dropdown-title"><span class="title">æ•°æ®å­˜å‚¨</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/0.html" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/0.html" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/db/mongodb/0.html" class="nav-link">
  MongoDB
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/common/0.html" class="nav-link">
  vue å¸¸è§åŠŸèƒ½
</a></li><li class="dropdown-item"><!----> <a href="/vue/v3/0.html" class="nav-link">
  ä¸€ä¸ªé¡¹ç›®çš„æ­å»º
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webpack" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="webpack" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/record/0.html" class="nav-link">
  è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/webpack/practice/0.html" class="nav-link">
  å®è·µ
</a></li></ul></div></div><div class="nav-item"><a href="/read/jwt/0.html" class="nav-link">
  Reading
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          NPMåŒ…ä½¿ç”¨è®°å½•
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/projects/npm/log4js.html" class="nav-link">
  Log4js
</a></li><li class="dropdown-subitem"><a href="/projects/npm/markmap.html" class="nav-link">
  Markmap.js
</a></li><li class="dropdown-subitem"><a href="/projects/npm/react-pdf.html" class="nav-link">
  React-pdf
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/webpack/record/0" class="sidebar-heading clickable open"><span>è®°å½•</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack/record/0.html" class="sidebar-link">require.context çš„ä½¿ç”¨</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="é¡¹ç›®æ¨¡å—å¼•ç”¨å¼•å‘çš„è®°å½•"><a href="#é¡¹ç›®æ¨¡å—å¼•ç”¨å¼•å‘çš„è®°å½•" class="header-anchor">#</a> é¡¹ç›®æ¨¡å—å¼•ç”¨å¼•å‘çš„è®°å½•</h1> <p>ä¹‹æ‰€ä»¥æ˜¯å¼•å‘çš„è®°å½•è€Œä¸æ˜¯æ€è€ƒï¼Œæ˜¯å› ä¸ºåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¯¥æ€è€ƒä»€ä¹ˆï¼Œæ‰€ä»¥å°±å…ˆè®°å½•è¿‡ç¨‹ã€‚</p> <h2 id="import-å¼•å…¥æŠ¥é”™äº†"><a href="#import-å¼•å…¥æŠ¥é”™äº†" class="header-anchor">#</a> import å¼•å…¥æŠ¥é”™äº†ï¼Ÿ</h2> <p>ä¹‹å‰åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å°† markdown è¯­æ³•è½¬æˆæ€ç»´å¯¼å›¾çš„ npm åŒ… <strong>markmap.js</strong> æ—¶ï¼Œæˆ‘åªæ˜¯æ‰§è¡Œäº†:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Transformer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;markmap-lib&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> transformer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Transformer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å°±ç¢°åˆ°ä¸€å¤§å †çš„ç›¸ä¼¼çš„æŠ¥é”™ï¼Œæœ‰é‚£ä¹ˆä¸€å¤§å †ï¼š
<img src="/assets/img/0.3905abc7.png" alt="An Image"></p> <p>æˆ‘æ‘˜å–äº†å…¶ä¸­çš„ä¸€ä¸ªï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ERROR <span class="token keyword">in</span> ./node_modules/markmap-lib/dist/index.mjs <span class="token number">49</span>:16-20
Can<span class="token string">'t import the named export '</span>Hook' from non EcmaScript module <span class="token punctuation">(</span>only default <span class="token builtin class-name">export</span> is available<span class="token punctuation">)</span>
 @ ./src/pages/chatAi/components/chatPage/components/mindup/index.tsx
 @ ./src/pages/chatAi/components/chatPage/components/index.ts
 @ ./src/pages/chatAi/components/previewPage/index.tsx
 @ ./src/pages/chatAi/components/layoutRight/index.tsx
 @ ./src/pages/chatAi/chatAi.tsx
 @ ./src/pages/chatAi/index.tsx
</code></pre></div><p>è¿™ä¸ªæŠ¥é”™çš„æ„æ€å°±æ˜¯åœ¨ç»„ä»¶ mindup ä»£ç æ‰§è¡Œæ—¶ï¼Œå‡ºç°äº†æ­£åœ¨å°è¯•<strong>ç”¨ import çš„æ–¹å¼ä»ä¸€ä¸ªå¹¶é ECMAScript æ¨¡å—ä¸­å¯¼å…¥äº†ä¸€ä¸ªåå­—æ˜¯ Hook çš„æ¨¡å—</strong>ã€‚</p> <p>åœ¨ ECMAScript(ES)æ¨¡å—ä¸­ï¼Œå¯ä»¥é€šè¿‡ import å¼•å…¥çš„æ¨¡å—ï¼Œåªèƒ½é€šè¿‡ä¸¤ç§æ–¹å¼å¯¼å‡ºæ¨¡å—å†…å®¹ï¼š</p> <ul><li>é»˜è®¤å¯¼å‡º(default export)ï¼Œä¹Ÿå°±æ˜¯å¸¸ç”¨çš„ <code>export default xxx</code></li> <li>å‘½åå¯¼å‡º(named export)ï¼Œå¸¸ç”¨çš„æœ‰ <code>export const fn = () =&gt; {}</code> æˆ–è€… <code>export const A = xxx</code></li></ul> <p>ä½†æ˜¯æˆ‘é¡¹ç›®é‡Œå…¨éƒ½æ˜¯ä½¿ç”¨çš„ <code>import xxx from xxxx</code> çš„æ–¹å¼å¯¼å…¥çš„æ¨¡å—ï¼Œä¸ºå•¥åˆ°äº†å®ƒ markmap å°±ä¸è¡Œäº†å‘¢ï¼Ÿ</p> <p>éš¾é“å¤©å°†é™å¤§ä»»äºæ–¯äººä¹Ÿï¼Ÿ</p> <p>è¿™ç§æ¨¡å—å’Œæ¨¡å—ä¹‹é—´çš„ç–‘é—®ï¼Œæˆ‘ç°åœ¨è§‰å¾—æœ€å¥½çš„æ–¹æ³•ï¼Œå°±æ˜¯ç”¨çœ‹èµ·æ¥æœ€è ¢çš„æ–¹æ³•ï¼š<strong>ä¸€ç‚¹ä¸€ç‚¹çš„å¯¹æ¯”ä¸¤ä¸ªä¾èµ–åŒ…</strong>ã€‚</p> <p>äºæ˜¯æˆ‘æ‰’å¼€äº†é¡¹ç›®é‡Œå¼•ç”¨è¿‡çš„è¿˜æ­£å¸¸çš„ä¾èµ–ï¼š <strong>lodash-es</strong></p> <h2 id="å“ªä¸ªæ˜¯å¼•å…¥æ¨¡å—çš„å…¥å£"><a href="#å“ªä¸ªæ˜¯å¼•å…¥æ¨¡å—çš„å…¥å£" class="header-anchor">#</a> å“ªä¸ªæ˜¯å¼•å…¥æ¨¡å—çš„å…¥å£ï¼Ÿ</h2> <p>å±•ç¤ºä¸€ä¸ªä» lodash-es ä¸­å¼•ç”¨ throttle æ¨¡å—çš„æ–¹å¼:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> throttle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;lodash-es&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>ç¬¬ä¸€æ—¶é—´æœ‰ä¸¤ä¸ªç»“è®ºï¼š</p> <ol><li>lodash-es å¯¼å‡º throttle çš„æ–¹å¼æ˜¯ <strong>å‘½åå¯¼å‡º(named export)</strong> æ–¹å¼ï¼Œè‡³å°‘å¾—æ˜¯ä¸ª <code>export const throttle = () =&gt; {}</code></li> <li><code>from lodash-es</code> åº”è¯¥æ˜¯ <code>from lodash-es/index.js</code> å§ï¼Ÿ</li></ol> <p>ä½†æ˜¯æ‰“å¼€ <code>lodash-es</code> çš„ node_modules ä¾èµ–åŒ…åï¼Œæ²¡æœ‰ index.js åªæœ‰ <code>indexOf.js</code>ï¼Œlodash-es æ–‡ä»¶å¤¹ä¸‹ï¼Œå…¨æ˜¯å„ä¸ªæ¨¡å—ã€‚</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU0AAAHQCAMAAAAS1shrAAAAgVBMVEUlJSaMjIwzMzT/JgGGhoYxMSfLy0Fra2t9fX11dXU/Pz9hYWJKSktUVFTQJQRhJRq/JQZ0JRZZWVo+PileXi9UVC29vT+bnDi3tz6wsD2mpjuGhjWNjTdHRytpaTBlZTBPTyyWljh9fTSKJRKeJQ6qJQuYJRBycjJAJSDrJQFVJR1enaG/AAAWmElEQVR42uyc23bbIBBF57BmzEXoRXbvaXp56f//YYVGcnDt3lbramg4D4EIlLD2AiErOyLnHPX8pXSanabZdJrPiKbpwbVGM4GppdyJppxOMhenL4/v6Q+SO82SF4fDkd6/Psz5/EfDE2op96T55vDy3bu3H+kyLmkpQpIcrbmubZ30nDao3pGm3JqXngH48osRPAB2hVnEnGlr56VG2omIRsyJLfC889z88C1MsPdccLpC1WPBFcA+LjgHreWaZgKGISCS/dyT5mm+ar65WOgOcETCSKWalgNCE3jdcRzYFXxc0/QFs0RP9nNPmnR8NfOsp+eIhcmAgZwiYziKyDoUGjGUWoBUNAdwojZyJ5qnhSaVbf3txUIfS5ERCygF54gh5/Y1uaIpDCBmaiB3ovnucCAqjB4OL3+Bpqsuq3OCTxVNohwZz/a6efw0r/BXRC/fPsyVh1srfappep2KKelK15xpajLQwKZ+D5pl93l9pOOh5JNc7UIOSDXNESy6C2m7xPL9OK40Y0hExM+VppweXyzli8fTkS4yADECnmqaFMExAKO2e0YkSkDediH4gRHIfpTmv8vAAPunRRzXyQjwuLXDC5Ew3NppeO537z+IyI8/kEs1oKTIyfSDrlaeyOWAgVqKaZrcxEbeCs2c24Jpm2Zz6TQ7TavpNDtNq+k0O02r6TQ7TavpNDtNq+k0O02raZWmzVEboemR6TriwzAMo2tG7DTib96mmaAJ0ojYacTf/C7NnLNnxEbEzn39zSylkuRMM7m1TUq/hHCeiCLbWXWZbBlKe/qbi1roAoDokWt5c0KpbjSd2nP19dIhrNqSqb/D7epvBp+E1dhEruXNaSG80pRY+gek5fzhQp6bBsZEZrKnv5lpIaL2cK7lzalUSx0hsJoJE7z6M080GaV/NDQ5d/Y3N3eTkWt5U9FRgoZHIgGrrfBEMyCauL2z428yZIVay5uTglV4MgKpdEm6WdUKN9hb2of29jcZbqVZyZs1TZ3LvpzkiXGhIsoUAIxkJrv6m9crXXNNM5Y+nOC/FTtlsHQfv7e/OYGlfEWu5c1Lmo6X+ecRkAq/rDQlRJlr/zvN3/E3Kai7iVzJm080EZZNnUW/Y/0Rsu1C7D1buuHc298kifqPQ7mSNyuaJeyFShRcBuvZeiobgmnC33RVo6PbqXYsnafB4sd1I0/kfh5xHtG62NkMzQywsy52NkPTDaOYFzubodlEOs1O02o6zU7TajrNTtNqOs1O02o6zU7TajrNTtNqzNI0Oqw2aRoVNNvwN5t/86Ypf7P5N2/u628KCWmpxypt07KgadTfHBHPTsyoxzZt07KgadTfFKXGcJRVSvCbtmlZ0LTqb0bkVXth5OWYW7VNy4KmVX8zI17oXR6japumBU2r/iYx1N7MWONVmDEtaFr1N8kju1JmwM+JUSVY24KmVX+THOIAlQdrbdO2oGnV3yRiMDYTlsjzeW6Oo1lB06q/STStZQaCZ5wl2ARkq4Kmsace6m8qdCBtxhsQ3LbSheGsCprGaN5+/6a4i4N2BU1zNP/PN2+apmlV0GyTplVBs02ajabT7DStptPsNL+ydzZLbsJAEFarRqWRhC96/4dNYNBKa/tALQcaSn2wN+BUZb/wY5uPadZMmpMmaybNSZM1k+akyZpJc9JkVRNJaYZY3LEUENWGkhqHBfDuUCJTNSOpcSjHZS4meeEq47CPfvxmHGYoZF9k1qE9fhaAt0UhMxyxOI3DiEWxMUyogOzXOhfIewG4zaQKCgDXl9tyGodA00ISILG4aq+B9ALwkaZCawQu3zwpjcMFyQWI0dT1yTY8hfQC8IGmvfZ1ffMypXGoWJzhtsd2dT1DegH4uG0CheKqHKNxGIBaq+3MCbn/LwRILwAfaVYAUi7f0SmNw4I9odHMSG3b7AXgA03niwK4/M0So3EoKPl/BLXRDIC3c9hQAN5pbgnp+k9FhMahh+zEtNF0CVKXCMhYAO6LN5pZ48r1mTRPGoexURH4RtMpABTIWACu0HZOh5b40D39lHFoELdEFKO5xpeSA2QsAC+IRtOGxsvlb5BojcO3lBLaxN2hANyWFR41kfQbufck6GuJX24oeMn1+/ftaHrF15sEA6COJzeh6Vyu5ZuF+Lr+YHlHmrfIpDlpsmbSnDRZM2lOmqyZNCdN1kyakyZrJs1JkzWPoRnmt8XfE8oe7w4nEHgznP5mxp48aZ73NzNk2RLc8VDsY4z+Zob2o+HwFHIYusJ/rXpTO4/nNjT/7G92miYq2IKs1vLfusITajPA1ghGtfN47kLzr/5mp9l7vqvzAo0KDa0rfIE20avR7Grn4dyH5l/9zQzomjT2fCeUjW61rnBbOugygkHtPJ770Pyrv5lhkdbzbYJis+ts99/ZKXKj2dXO47kHzVP+Zt/Te893wB5p+Ndno91odrXzeG5B84y/OdK0nu9tI0Vco8VoGsDQe60FTe182HHzrL/ZaQ4934KPYZIVVeE7zUHtPB56muf8zZFm7/l25rouUjrNAN1+zCUYzV3tfBbNc/5mP6dr7j3fzgskamtetyTTvIBiNLvaeTj8NM/4m5+f09v8zdwcTaM57NSKxWi68sx372f8zeNtDxXp59MpQPBxnfEbuYMJi8A7S+a4FfjGNHXwOSPDXZa3pvmq2bXkF8WvcWOahJk0J03WTJqTJmsmzUmTNZPmpMmaSXPSZM2kOWmy5kk0r/9NOGn6mjQu7U/3mcTJ6G+asDBc4LnNJE5GfzMAMftFEJ3lNpM4Gf1NsxF79WL2wyjO37M2c3BMkzgZ/c2C2K8/BgUg1UZxCiC+YH10rVIwO55JnJz+Zh9ZGBQSzUJIgBaBIO0Gwr7K80ziZPQ3XTTf1S6Zq52WVpppO6aW7bGtKkg8kzgZ/c1VdYNp2QbdNE370Twuwc+IOQjPJE5Gf9POJQkQe4WZr0ZvoCnYE2gmcTL6m+NhQeDbX/ykaUZnDDSTOBn9zaj2b2qHV2P4TnNbZaGZxMnob5ZhEmyFBDsLfdCsdr+LJkcziZPR39xUzZhMM1JIUmB5p9nfIRWeSZyM/mabwVdttxVAXu6DZltVHc8kTlJ/M+TFf9U2exgncXJ+I3ckjJM4H0OTYhLnY2hSTOJ8Ds1/7J2HkpswFEX1lKdVJYX0Nun1/z8wSA9ZGJw4bZxrojsTRxaC3T0DBuPjJ4R0mkA0zdc7e8zXz/+A5ucPX27tNHc/X5rm592ynPLl84Vp3s4/9PYek3eT25el+XX6kffUPnNn+tvuXJTmu+nVRe01H27d+nhRmh9v3Xqv9pppV/nQaXaaiOk090rz/qfH5e778xcPjDod8DKRSDSf3tw8yP9PH7J9+jU5zioFUdgQiObr8mm6fBL8rNP8Q5oPbp4cWo9+mSZEmUggmg8PDF9Vru2FzgRTn4SgJKWz0TSzhmja0tInvceb245sduI+aL6cTA/Jp+MjXZOL1RI0nqbEVk4mzDQN597EVSzUrqhzlFSTEyXrMpGB68aZci+nPdD8dPO07aX3VYsUe3SFUlMJNZdOCoWmwAwZoJN5f2VgptnkxG2ZSNlOLNtRLAPJXD/NyT16UNtvbm5eH9GMte6Wt0akWHmqLNlMs8AUaVD0zlidw7SUE7dlIuftyHjZCFO6fprPb548XLRfHtFsDra0mgcXdKbJGU6Np1RrQjpKSzlxUyZSnuUQySYL6OunqV4djvTXN4+OPSR3+IONZZrCYrBKUhMIB1cWp+YcpqWcuC0TedgOk57Bxl3QvN/OQsK10eRK0zCxt/YETScgyFlLx/tmkxNPlIncMc31FdL2SB8KtbA+0p1hsmIbzghtea6pHemSTZnIuh1itSuarzdX742mLZDsXAPOE+cH385CecygxIINRCk/2DRybi7kRDUMal0msm7H7Yvm/cM7y7fr682DXailJddAYhXqQnN6KBbs8rKIiL006+oZ9KpMZC0qyXpfNNWzdtfj1Ymr97I3pYwyEefuxdV7gcDGZJRWLtlNioMqzSYnGia9KROpnWx8ZzTrHblPn+6rFc2FEdh+dOvcWoghpnpu2ciJ2zKRen/v05fZ0vzldSim0RG3rlNlIvd71+Ov0lQj5bBWLdsykf8jTZOC+vXoFMfVetsykf8hzetJp3nVNHfteryXXeWyHtIdtc98/SKO1YUdudt395hi/3V/8+/ly9eLu8V3b+01ty/sFgvPO/f2mDuf+3cy/n06zU4TNZ1mp4kaSJoQs3dfOU1HBmm+aSCav1MxkjvNv1UxUmgizd6NRrNVjDzrb+ogcgHQ7N1gNGvFyPP+ZuLcKjRxZu8Go1krRp73N6WTyCig2bvRaNaKkef8TSf+ZqYJNHs3Gs1aMfK8v5mbJtMEmr0biOa2YuR5f5PJIM3eDURzVTHyvL8pNJFm70ahua0Yed7flCMdafZuFJrripHn/U1pkkGavRuF5qpi5Dl/Mzc5N8kgzd6NQnOV8/5mcEQ0MBmk2buvguZpf9PkJtbs3VdC87vBmr17JzRBZu/Gp/kjfxNt9m58mntPp9lpoqbT7DRR02l2mqjpNDtN1HSanSZqOs1OEzVXShP0lwaiWfzNMUqC2sZSOgwdFGLQ/E2aEzvNv+BvEqUS/UOaBlSqQfM3iY7H6sNYs6Q5/4cmeKL5m0SLsXZbglPiKUi1TTD1C83fXNCUgkjkWgnOI5qGyI6eWAEFzd8kciV6npFV595YmA3HNFNeVUUPc00C6G/SHF0H8dT0gpGPaAbCO7Gj+ZtEq7GOdHW7/JJmfiByI9R5CM3f/A5NfYKmCsUKQ8KJ5m9uaX7vSC8JDHW4o/mbJ2nKtN8jZZo6aqEZXebod0/zz/xNVzIsadZpvynlpjuchXz0WPIxmr9Jc2Kl6TPNRTXOSFZoyjW/Q7pAwvM3v5cjwdNRKE0olJjG4dmYiPUO6LppDkRRQQbQ3zwbPUDd6sC8976DdJqdJmo6zU4TNZ1mp4maTrPTRE2n2WmiptPsNFHVQyCaUjHSDNbZwaifS8C604lmHGpuswlFfxLqsj/9FzR/2zhkcsEERzxrHpus+jXSh2xoxqEmPgAzTPPQEEybxrv1S5+MwLh/DGYcBuKZrhooJy2Kz3gaibj21w2KEIbx4QaecVilNx2ZbNQqElvLMpf11Iy1v9GMxGNkGtU/D5pxmCgjS4vXx+jDLDB5cq2/0ZTnwQPsnGjGoQqWpnA4oiZjPKWTNB2hSJxoxmFOiEykD9SiKwOry7WlGcr+jHAeQjMO5zANlZqTub9/QFOZ0RGEGwtmHA5ODmZLUajVF4Dv00TyP8CMwzB/B4Mp5GGp7s5joyn9mV8SmsZ5M7X2SvNPjENH5K2XCf5juVySabwbzdofiUw9C7G1jHDBiWYcKks5No82jijJO/eRZ5qtP69aaMr7AAaAiWgc6tTsQrNauOzP/wI5pLfr1+jItSSHcHzvhSZjidpXaRy2pAQFE+ne+w7SaXaaqOk0O03UdJqdJmo6zU4TNZ1mp4maTrPTRM0108T7zcFphhi2nbiFDoH8zVOJq3vr2o//Ic2lv/kXaUq5M9yykQj+pniZpUPXgUFXmrJcB9G4yZvmbsKVjUTwN8XLVMYdxEzLRDxWmp4GlqFMUxxu2UgEf1O8zKnDjbboXFEWpUpTVqKgRk8cB9yykQj+pniZIncNPildaAfiA01XV0p5PG7ZSAR/c/YyiaKZa8rE+o2XeqQrAS/0cMtGAvib1YgZi/+iizwjSUJTlocDTdyykQD+ZqWpdHREU9sS2ynOhtM0cctGIviblaac6K0c6ZKTNHHLRmL4m4WWy4sGsnmUzmDZrGgK/dyOBrJsJIK/KbQMkYuWKIigaZn8dt9UTC6WExZk2UgEf1NoSVF3TrkZmYisOUFzZOJiF0OWjQTxN2uPOV9C0hjcspFXaxxifG1gLzQhy0Zerb8JWTYS/N77laXT7DRR02l2mqjpNDtN1HSanSZqOs1OEzWdZqeJGkCaWp2OAfm44qpoHouEhvjQIrRfFdrfjN4UmmOn+Rf8TSbdtMwNTQV3FEH7m1JXs2mZekXTyAIN5Gvi+pu1ruZCy0xLmlK8r4zyqDxx/M1aV9NTEAnBEek1zUAUoyOvMIPjb2ZcuoqEXoaNa5qWxrxXW4UZIH9zQVMykl3TjDhWNri/uaQZfF64pWlyt08KNEj+ZqMZKC90G5pTkmf6r143f9ffbDRteXmNG5qSBOPE4fqb39o7t91WYSiIetC2DLZ54f8/9uh44zqFhKLKUsbNnie7Sai0ysUlS4OabzpbysVGvmiua60uLnqdfBLNX/ibrVezzFYVOCvNCOR6FUJIgtlxhsjf1F5NnZV3bZWmF0xK06VPXL3/0t/0/uIBGAD9v+vDGIcx0F7JB6QZANpl5nj+ZlyJj3Dee+8jx2gaTdYYTaPJGqNpNFljNI0ma4ym0WSN0fzjNKcfXiauk+Sj+cQ49Ol/9CZSwnLo6QvP6/yCu5MhaPY1DiM0s7+mubTh7XvLI9DsaxxGSM45iH5p7F7ShLSfR3cr49D8nXHoT8ZhffraBHjnH8RD75WmbtJ7yP7iYSsXGYZmJ+Ow0XSCvFdPtWeEZ4QZwFIL01yJvq12UF5kGJqdjMNG0wNeMUXo64Wmbie4nICUHmi2DsrXGYdmN+NQacYFUjGVzYRCs9DKkHrebDRbB+VFhqHZzTiM2JN3mvsBrTRnHZ5pagfldYag2dc4jICIAH7HVP8a+3lThyearYPyIkPQ7Goc6pHuBdkd9s1rmq2D8nX4afY2DpWm2yAVk4LNP9BsHZSvw0+zu3GoNJ0g7ZhWIOWEE034skNO5W21g3Jwmv2NQ6WZ6wppX1vOcqC5QEJZFylN7aAc/Ujvaxw2mm5uxbF+TdkdaUYB9AShb9MOyvFX712Nw3PWFPWk+7JOMiFdb0YzPs0O2SBbToLwErfcO76N5v8EXDrGHjd/0dA0+zVGTmu6UhDX7O5lZJp/PUbTaLLGaBpN1hhNo8kao2k0WWM0jSZrjKbRZA0hzek8HKVDko/mjPUwPIW29ZDU38xL1KHR7OBvBmw6fBraDklOf9MHJO/LUF3N+mkVMmk7JCn9TV+GYf9qOEiZlE8HADLRdkhS+ps+zVhSVpoBEoIg6KdDAGbaDklOf9MFbDqsD14VHUb1tVk7JEn9zUZz14hSEw0FE2uHJKm/2WgGrOogLfXTMybWDklOf/Mnmqwdkpz+5rMjfXugydohyelvqufWrkJ6AXqkGZMn7JDk9DddBOYmHy4LENw3mkAi7JAk9TddaKv3JICEdg1bMJX9mLBDktbfdP76zptn7JAc1Dgk7ZAcmCZhh+So/iZnhyTfvfeRYzSNJmuMptFkjdE0mqwxmkaTNUbTaLLGaBpN1ryPpvd8/ZnD0jzqggKC/kxSmhf+5j2afPfVHbW/6Sd3QdPx6DAkNK/9TV+xTQ80z/2ZQ50/3+dvCr4kzq1ON8h06M/k+/KH0t8UuC+Jc9Opwjz0Z9LJ7ZT+5o6vWERSpqvCPPZnsghw1P6moJibVS8QbBB/6s/kcDj4/U3BNxlLVIJ/0p85zoH+Jn+z0ZweaSI/7c8cZ7H0Nn9TpXXlF2PZTTdgetKfOdB/Re/yN5XmWk6VucEVf+7P/HCad/zN1pi5zMC6TwXLqT/z04/0G/5mW70LIGudToLt1J85zgLpjf6m5jQ99meOtET6B6O1idFZTtjWAAAAAElFTkSuQmCC" alt="An Image"></p> <p>æ²¡é”™ï¼Œæˆ‘è§‰ç€ä½ çœ‹åˆ°äº†æˆ‘ç”»çº¢æ¡†çš„é‚£ä¸ªæ–‡ä»¶äº†ï¼š<strong>package.json</strong>ã€‚</p> <p>æ‰“å¼€å®ƒæ¥çœ‹å‡ ä¸ªå­—æ®µï¼š</p> <p><img src="/assets/img/2.7715c4e1.png" alt="An Image"></p> <h3 id="å­—æ®µ-main"><a href="#å­—æ®µ-main" class="header-anchor">#</a> å­—æ®µ main</h3> <p>å®ƒæŒ‡å‘çš„æ˜¯ <strong>CommonJs</strong> å¼•å…¥æ–¹å¼å¯¼å…¥ç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> throttle <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;lodash-es&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å­—æ®µ-module"><a href="#å­—æ®µ-module" class="header-anchor">#</a> å­—æ®µ module</h3> <p>å®ƒæŒ‡å‘ <strong>ESModule</strong> å¼•å…¥æ–¹å¼å¯¼å…¥ç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> throttle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;lodash-es&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å­—æ®µ-type"><a href="#å­—æ®µ-type" class="header-anchor">#</a> å­—æ®µ type</h3> <p><code>type</code> å­—æ®µæ–°å¢ä¸ node@12.0.0 ç‰ˆæœ¬ï¼Œäº v13.12.0ï¼Œv12.17.0 å–æ¶ˆæ ‡è®° --experimental-modulesã€‚</p> <p><strong>å€¼ï¼š<code>module</code> | <code>commonjs</code>ï¼Œæ²¡æœ‰é»˜è®¤å€¼ï¼Œä¸è®¾ç½® <code>type</code> å­—æ®µæ—¶ .js æ–‡ä»¶è¢«è§†ä¸º CommonJSã€‚</strong></p> <h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="header-anchor">#</a> ä½œç”¨</h4> <p>type å­—æ®µå†³å®šäº† Node.js ä¸­ç”¨åˆ°çš„æ‰€æœ‰ .js æ–‡ä»¶çš„æ¨¡å—æ ¼å¼ï¼Œè¿™äº› .js æ–‡ä»¶å°†åŒ…å« package.json çš„æ–‡ä»¶å¤¹ä½œä¸ºçˆ¶çº§æ–‡ä»¶ã€‚</p> <p>å½“æœ€è¿‘çš„çˆ¶çº§æ–‡ä»¶å¤¹ä¸­çš„ package.json ä¸­åŒ…å«äº† <code>type: 'module'</code> çš„é…ç½®æ—¶ï¼Œæ‰€æœ‰çš„ .js æ–‡ä»¶éƒ½è¢«è§†ä½œ ES æ¨¡å—è¿›è¡ŒåŠ è½½ã€‚</p> <p>åœ¨æœç´¢ <code>package.json</code> æ–‡ä»¶æ—¶ï¼Œå¦‚æœæœ€è¿‘çš„ <code>package.json</code> å°±å®šä¹‰åœ¨å½“å‰çš„æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ–è€…è¯¥æ–‡ä»¶å¤¹çš„çˆ¶æ–‡ä»¶å¤¹ä¸­ï¼Œç­‰ç­‰å¾€å¤§äº†ç±»æ¨ï¼Œç›´åˆ° node_modules æˆ–è€… æ ¹æ–‡ä»¶å¤¹ã€‚</p> <p>å¦‚æœæœ€è¿‘çš„ package.json ç¼ºå°‘ <code>type</code> å­—æ®µï¼Œæˆ–è€…åŒ…å« <code>type: 'commonjs'</code>ï¼Œåˆ™ .js æ–‡ä»¶è¢«è§†ä¸º CommonJSã€‚å¦‚æœåˆ°è¾¾æ ¹å·ç›®å½•éƒ½æ²¡æœ‰æ‰¾åˆ° <code>package.json</code>ï¼Œåˆ™ .js æ–‡ä»¶è¢«è§†ä¸º CommonJSã€‚</p> <p>å¦‚æœæœ€è¿‘çš„ package.json åŒ…å« <code>type: 'module'</code>ï¼Œåˆ™ .js æ–‡ä»¶çš„ import è¯­å¥è¢«è§†ä¸º ES æ¨¡å—ã€‚</p> <p>æ— è®º &quot;type&quot; å­—æ®µçš„å€¼å¦‚ä½•ï¼Œ.mjs æ–‡ä»¶å§‹ç»ˆè¢«è§†ä¸º ES æ¨¡å—ï¼Œè€Œ .cjs æ–‡ä»¶å§‹ç»ˆè¢«è§†ä¸º CommonJSã€‚</p> <h4 id="type-module-æ—¶"><a href="#type-module-æ—¶" class="header-anchor">#</a> type: 'module' æ—¶</h4> <p>æ­¤æ—¶çš„ .js æ–‡ä»¶è¢«è§†ä¸º EsModule æ–‡ä»¶ï¼ŒCommonJs çš„æ–‡ä»¶å°±éœ€è¦å£°æ˜ç§° <code>.cjs</code> çš„åç¼€ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  ...<span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.cjs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.d.ts&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.d.ts&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.cjs&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./unstyled&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥çœç•¥ï¼Œä½†ä¸å»ºè®®</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.cjs&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./*&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre></div><h4 id="type-commonjs-æˆ–-æ²¡æœ‰è®¾ç½®-type-æ—¶"><a href="#type-commonjs-æˆ–-æ²¡æœ‰è®¾ç½®-type-æ—¶" class="header-anchor">#</a> type: 'commonjs' æˆ– æ²¡æœ‰è®¾ç½® type æ—¶</h4> <p>æ­¤æ—¶ .js å°†è¢«è§†ä¸º CmmonJsï¼Œå¹¶ä¸”æˆ‘ä»¬éœ€è¦å°† EsModule æ–‡ä»¶é€šå¸¸éœ€è¦æ˜¾ç¤ºçš„å£°æ˜ä¸º <code>.mjs</code> æˆ– <code>.esm.js</code>ã€‚</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  ...<span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.mjs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.d.ts&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.d.ts&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.mjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./unstyled&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥çœç•¥ï¼Œä½†ä¸å»ºè®®</span>
      <span class="token property">&quot;import&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.mjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/unstyled.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./*&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å›åˆ°-lodash-es-å…¥å£é—®é¢˜"><a href="#å›åˆ°-lodash-es-å…¥å£é—®é¢˜" class="header-anchor">#</a> å›åˆ° lodash-es å…¥å£é—®é¢˜</h3> <p>é€šè¿‡ lodash-es çš„ package.json æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“å…¥å£æ–‡ä»¶æ˜¯ä»€ä¹ˆäº†ï¼Œè™½ç„¶å®ƒçš„ module å’Œ main å­—æ®µæ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚æ— æ‰€è°“ï¼Œæˆ‘ä»¬ä¼šè§åˆ°ä¸åŒçš„ã€‚</p> <p>æ¥çœ‹çœ‹ lodash-es.js æ–‡ä»¶ï¼Œè‡³å°‘æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç»“è®ºæ²¡æ¯›ç—…ï¼Œå®ƒçš„ç¡®æ˜¯ <strong>å‘½åå¯¼å‡º(named export) çš„æ–¹å¼</strong>ã€‚
<img src="/assets/img/3.0a724dfb.png" alt="An Image"></p> <p>é¡ºä¾¿æŠŠ <code>throttle</code> æºç æ”¾è¿™é‡Œï¼Œç•™ç€ä»¥åçœ‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> leading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    trailing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> func <span class="token operator">!=</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token constant">FUNC_ERROR_TEXT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    leading <span class="token operator">=</span> <span class="token string">&quot;leading&quot;</span> <span class="token keyword">in</span> options <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>options<span class="token punctuation">.</span>leading <span class="token operator">:</span> leading<span class="token punctuation">;</span>
    trailing <span class="token operator">=</span> <span class="token string">&quot;trailing&quot;</span> <span class="token keyword">in</span> options <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>options<span class="token punctuation">.</span>trailing <span class="token operator">:</span> trailing<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">debounce</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    leading<span class="token operator">:</span> leading<span class="token punctuation">,</span>
    maxWait<span class="token operator">:</span> wait<span class="token punctuation">,</span>
    trailing<span class="token operator">:</span> trailing<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> throttle<span class="token punctuation">;</span>
</code></pre></div><p><strong>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šmarkmap.js çš„æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</strong></p> <h3 id="markmap-js-çš„å…¥å£ä»¬"><a href="#markmap-js-çš„å…¥å£ä»¬" class="header-anchor">#</a> Markmap.js çš„å…¥å£ä»¬</h3> <h4 id="markmap-lib-js-çš„å…¥å£"><a href="#markmap-lib-js-çš„å…¥å£" class="header-anchor">#</a> markmap-lib.js çš„å…¥å£</h4> <p>åŒæ ·çš„å¥—è·¯æ¥çœ‹çœ‹ <code>markmap-lib.js</code> çš„ <code>package.json</code> æ–‡ä»¶å†…å®¹ï¼š</p> <p><img src="/assets/img/4.32c1e83d.png" alt="An Image"></p> <p>å®ƒå‘Šè¯‰æˆ‘ä»¬ import å¼•å…¥çš„èµ„æºæ–‡ä»¶æ˜¯ï¼š<code>dist/index.mjs</code> æ–‡ä»¶ï¼Œæ¥çœ‹çœ‹å“ªä¸ªæ–‡ä»¶æ˜¯æ€ä¹ˆæš´éœ²æ¨¡å—çš„ã€‚</p> <p><img src="/assets/img/5.d294298c.png" alt="An Image"></p> <p><code>export { Transform }</code> æ–¹å¼å¯¼å‡ºï¼Œå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚é‚£ä¹ˆä¸ºå•¥ç»™æˆ‘æŠ¥é”™äº†ï¼Ÿå†çœ‹ä¸€ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">ERROR</span> <span class="token keyword">in</span> <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>markmap<span class="token operator">-</span>lib<span class="token operator">/</span>dist<span class="token operator">/</span>index<span class="token punctuation">.</span>mjs <span class="token number">49</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">-</span><span class="token number">20</span>
Can<span class="token string">'t import the named export '</span>Hook' from non EcmaScript <span class="token function">module</span> <span class="token punctuation">(</span>only <span class="token keyword">default</span> <span class="token keyword">export</span> is available<span class="token punctuation">)</span>
</code></pre></div><p><strong>Hook</strong> æ¨¡å—æ˜¯è°ï¼Œå…¨å±€æœç´¢åï¼Œå‘ç°æ˜¯ <code>markmap-lib.js</code> ä» <code>markmap-common.js</code> ä¸­å¼•å…¥çš„æ¨¡å—ï¼š</p> <p><img src="/assets/img/6.bb6813d4.png" alt="An Image"></p> <h4 id="markmap-common-js-çš„å…¥å£"><a href="#markmap-common-js-çš„å…¥å£" class="header-anchor">#</a> markmap-common.js çš„å…¥å£</h4> <p><img src="/assets/img/7.433f59a0.png" alt="An Image"></p> <p>ä» <code>markmap-common.js</code> çš„ package.json æ–‡ä»¶ä¸­æˆ‘ä»¬çœ‹åˆ° module å¯¹åº”çš„æ˜¯ <code>dist/index.mjs</code>ã€‚</p> <p>è€Œ <code>dist/index.mjs</code> æ–‡ä»¶ä¸­çš„å†…å®¹ä¹Ÿå¦‚çº¦æ˜¯ <code>export</code> å¯¼å‡ºå½¢å¼ï¼š
<img src="/assets/img/8.99f59918.png" alt="An Image"></p> <p>ä½†æ˜¯ï¼Œæ­¤æ—¶ <code>markmap-lib.js</code> å®é™…å¯¼å…¥ Hook æ¨¡å—æ—¶å¼•ç”¨çš„æ–‡ä»¶å´æ˜¯æ¸…ä¸€è‰² <code>export.xxx</code> å¯¼å‡ºæ¨¡å¼çš„ <code>dist/index.js</code> æ–‡ä»¶ï¼š
<img src="/assets/img/9.cb3b5366.png" alt="An Image"></p> <p>è¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿ</p> <p>éš¾é“ï¼Œå¤©å°†é™å¤§ä»»äºæ–¯äººä¹Ÿï¼Ÿ</p> <p>å•Šï¼Œä¸å¯¹ï¼Œéš¾é“å¤©å°†é™å¤§ bug äºè¿™ä¸ªåº“ï¼Ÿ</p> <p>é‚£ &quot;äººå®¶çš„ç¨‹åºå‘˜&quot; æ˜¯æ€ä¹ˆè§£å†³çš„ï¼ŸğŸ™„ğŸ™„ğŸ™„</p> <p>é²æ ‘äººè¯´ï¼Œå•Šå‘¸ï½</p> <p>å‘¨è¿…è¯´ï¼Œå•Šå‘¸ï½</p> <p>åæ­£æœ‰äººè¯´ï¼š<strong>æ–¹æ¡ˆå°±åƒæµ·ç»µé‡Œçš„æ°´ï¼Œåªè¦è€æ¿æŒ¤ï¼Œå°±ä¼šæœ‰çš„ã€‚</strong></p> <h3 id="æ¥ä¸€åœºå€’åºçš„å¤ç›˜"><a href="#æ¥ä¸€åœºå€’åºçš„å¤ç›˜" class="header-anchor">#</a> æ¥ä¸€åœºå€’åºçš„å¤ç›˜</h3> <h4 id="_1-markmap-lib-js-ä¸ºå•¥è¦å¼•ç”¨-markmap-common-js-çš„-index-js-æ–‡ä»¶"><a href="#_1-markmap-lib-js-ä¸ºå•¥è¦å¼•ç”¨-markmap-common-js-çš„-index-js-æ–‡ä»¶" class="header-anchor">#</a> 1. markmap-lib.js ä¸ºå•¥è¦å¼•ç”¨ markmap-common.js çš„ index.js æ–‡ä»¶ï¼Ÿ</h4> <p>é¦–å…ˆï¼Œå®ƒå¼•å…¥çš„æ–¹å¼æ˜¯ <code>import { Hook, ... } from 'markmap-common'</code></p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½è®¤ä¸ºåº”è¯¥æ˜¯ index.js æ–‡ä»¶æ²¡é”™ã€‚</p> <p>ä½†æ˜¯ï¼Œmarkmap-common.js ä¹ŸåŒæ—¶è®¾ç½®äº† main å’Œ module æŒ‡å‘äº†ä¸åŒçš„æ¨¡å—å…¥å£æ–‡ä»¶ã€‚</p> <p><font color="red"><strong>ä¸ºä»€ä¹ˆ markmap-lib.js å¼•å…¥çš„ååæ˜¯ index.js æ–‡ä»¶å‘¢ï¼Ÿ</strong></font></p> <p>æ ¹æ®ã€<a href="/webpack/record/6.html#type-å­—æ®µ">type</a>ã€‘ çŸ¥è¯†ç‚¹</p> <p>æ˜¯å› ä¸º markmap-common.js æœ€è¿‘çš„ package.json ä¸­æ²¡æœ‰è®¾ç½® typeï¼Œé‚£ä¹ˆé»˜è®¤å®ƒå°±æ˜¯ä¸€ä¸ª CommonJs æ¨¡å—ï¼Œæ‰€ä»¥å¼•ç”¨çš„æ˜¯ <code>index.js</code>ã€‚</p> <p>è¿™ç†è®ºåº”è¯¥æ˜¯å‡‘ä¸Šäº†ï¼Œå‘äº†å‘ï½</p> <h4 id="_2-ä¸ºä»€ä¹ˆä»-markmap-lib-js-ä¸­å¯¼å…¥-transformer-æ¨¡å—æ—¶ä¼šè‡ªåŠ¨å¼•å…¥-index-mjs-æ–‡ä»¶"><a href="#_2-ä¸ºä»€ä¹ˆä»-markmap-lib-js-ä¸­å¯¼å…¥-transformer-æ¨¡å—æ—¶ä¼šè‡ªåŠ¨å¼•å…¥-index-mjs-æ–‡ä»¶" class="header-anchor">#</a> 2. ä¸ºä»€ä¹ˆä» markmap-lib.js ä¸­å¯¼å…¥ Transformer æ¨¡å—æ—¶ä¼šè‡ªåŠ¨å¼•å…¥ index.mjs æ–‡ä»¶ï¼Ÿ</h4> <p>è¿™ä¼°è®¡è¦æ„Ÿè°¢å®ƒçš„ package.json ä¸­è®¾ç½®çš„ exports å­—æ®µäº†ã€‚</p> <h3 id="å­—æ®µ-exports"><a href="#å­—æ®µ-exports" class="header-anchor">#</a> å­—æ®µ exports</h3> <p>exports å­—æ®µä¸ªäººç†è§£æ˜¯ç”¨æ¥å®šä¹‰æ¨¡å—çš„å¯¼å‡ºè§„åˆ™çš„ã€‚å¯ä»¥ç†è§£æˆ<strong>å®ƒæ˜¯è·¯å¾„çš„æ˜ å°„ï¼Œä¹Ÿæ˜¯æ¨¡å—å¼•ç”¨çš„è¯´æ˜</strong>ã€‚</p> <p>æ¥çœ‹çœ‹ markmap-lib.js çš„ package.json æ–‡ä»¶å†…å®¹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.mjs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unpkg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/browser/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jsdelivr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/browser/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;.&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./types/index.d.ts&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/browser/index.mjs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;require&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/index.mjs&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;./package.json&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./package.json&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­çš„ exports å®šä¹‰äº†å‡ ä¸ªä¿¡æ¯ï¼š</p> <ol><li><strong>require</strong> å¼•å…¥çš„æ–¹å¼å…¥å£è·¯å¾„æ˜¯ <code>./dist/index.js</code> æ–‡ä»¶</li> <li><strong>default</strong> è¡¨ç¤ºå½“ä½  <code>import xx from 'markmap-lib'</code> æ—¶ï¼Œé»˜è®¤å¯¼å…¥çš„æ–‡ä»¶å°±æ˜¯ <code>index.mjs</code>ï¼Œè¿™å°±æ‰¾åˆ°åŸå› äº†ã€‚</li></ol> <h2 id="è¯¥å¦‚ä½•è§£å†³å‘¢"><a href="#è¯¥å¦‚ä½•è§£å†³å‘¢" class="header-anchor">#</a> è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</h2> <h3 id="resolve-alias-æ–¹æ¡ˆ"><a href="#resolve-alias-æ–¹æ¡ˆ" class="header-anchor">#</a> Resolve.alias æ–¹æ¡ˆ</h3> <p>é¦–å…ˆæ˜¯ webpack é…ç½®ä¸­çš„ resolve é…ç½®ã€‚å®ƒæ˜¯ç”¨æ¥è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æçš„ã€‚</p> <p>è€Œ <code>resolve.alias</code> é…ç½®åœ¨é¡¹ç›®å¼€å‘æ—¶ï¼Œå¤§å¤šæ˜¯ç”¨æ¥ç»™ <code>import</code> æˆ– <code>require</code> å¼•å…¥çš„åŒ…æ¥é…ç½®åˆ«åçš„ã€‚æœ€å¸¸è§çš„å°±æ˜¯å…³äº src æ–‡ä»¶å¤¹çš„é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//....</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;@src&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>é™¤äº†é…ç½®åˆ«åå¤–ï¼Œ<code>resolve.alias</code> è¿˜å¯ä»¥æŒ‡å®šæ¨¡å—å¼•å…¥çš„å…·ä½“æ–‡ä»¶å’Œè·¯å¾„ï¼Œå…¶å®åŸç†å°±æ˜¯é’ˆå¯¹ç›¸åº”çš„æ¨¡å—åšäº†ä¸€ä¸ªåˆ«åå¤„ç†ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//....</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ³¨æ„ï¼š__dirname ä¹‹åçš„å†…å®¹æ ¹æ®è‡ªå·±é¡¹ç›®çš„ç»“æ„ç›®å½•è¿›è¡Œè°ƒæ•´</span>
      <span class="token string">&quot;@src&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">&quot;markmap-common&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
        __dirname<span class="token punctuation">,</span>
        <span class="token string">&quot;./node_modules/markmap-common/dist/index.mjs&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      remarkable<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
        __dirname<span class="token punctuation">,</span>
        <span class="token string">&quot;./node_modules/remarkable/dist/esm/index.js&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢è°ƒæ•´å®Œï¼ŒæŠ¥é”™å°±ä¸è§äº†ã€‚ä½†æ˜¯ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘é™¤äº†é…ç½®äº† <code>markmap-common</code> è¿˜é…ç½®äº† <code>remarkable</code>ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯åœ¨ <code>markmap-lib</code>ä¸­ä½¿ç”¨çš„ï¼Œ<a href="/webpack/record/6.html#markmap-js-çš„å…¥å£ä»¬">è§ Markmap.js çš„å…¥å£ä»¬ç¬¬å››ä¸ªå›¾</a>ã€‚</p> <p>å¾ˆæ˜æ˜¾ï¼Œè¿™ç§é…ç½®æ–¹æ¡ˆå¾ˆå¤æ‚ï¼Œå¦‚æœæœ‰å¤šä¸ªå‘¢ï¼Ÿå¦‚æœ <code>markmap-common</code> ä¸­è¿˜æœ‰æ›´æ·±æ­¤æ¬¡çš„å¼•å…¥å‘¢ï¼Ÿ</p> <p>è¿™ç§æ–¹æ¡ˆå¾ˆæ˜æ˜¾ä¸å¤Ÿé€šç”¨ã€‚</p> <h3 id="æ›´æ”¹-type-å€¼"><a href="#æ›´æ”¹-type-å€¼" class="header-anchor">#</a> æ›´æ”¹ type å€¼</h3> <p>å…¶å®è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªååº”ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾ç”±äºå„ç§é¡¹ç›®ç°çŠ¶æ˜¯ä¸è¡Œçš„ã€‚</p> <p>å…¶æ¬¡ï¼Œä¹Ÿæœ‰åˆ«çš„æ¨¡å—ç”±äºè¿™ç§æ›´æ”¹åè€Œå‡ºç°äº† require å¼•å…¥å¯¼è‡´äº†æŠ¥é”™ï¼Œåæ­£å¾ˆéš¾å—ã€‚</p> <h3 id="ä½¿ç”¨-require-æ–¹æ³•å¼•å…¥"><a href="#ä½¿ç”¨-require-æ–¹æ³•å¼•å…¥" class="header-anchor">#</a> ä½¿ç”¨ require æ–¹æ³•å¼•å…¥</h3> <p>æ€è·¯æ˜¯è¿™æ ·çš„ï¼Œå‡å¦‚æˆ‘ä½¿ç”¨ require æ–¹æ³•å¼•å…¥ <code>markmap-lib</code>ã€‚</p> <p>æ ¹æ®å®ƒçš„ <code>package.json</code> ä¸­çš„ <code>exports</code> é…ç½®ï¼Œæˆ‘éœ€è¦å¯¼å…¥çš„æ˜¯ <code>markmap-lib/dist/index.js</code> æ–‡ä»¶ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è¦æ˜¾ç¤ºçš„å£°æ˜è‡ªå·±å¯¼å…¥çš„å°±æ˜¯ markmap-list/dist/index æ–‡ä»¶</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Transformer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;markmap-lib/dist/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™ä¸ªæ–‡ä»¶çš„å†…éƒ¨é€šè¿‡ <code>require</code> æ–¹æ³•å¼•å…¥çš„åˆ«çš„åŒ…ã€‚è€Œé¡¹ç›®æœ¬èº«å·²ç»è®¾ç½®äº† <code>type: 'commonjs'</code>ï¼Œè¿™æ­£å¥½å»åˆã€‚
<img src="/assets/img/10.33cc4213.png" alt="An Image"></p> <p>æ¥ä¸‹ä¿©å°±æ˜¯é…ç½®é¡¹ç›®ä¸­é™¤äº† import å¼•ç”¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ require å¼•ç”¨äº†ã€‚</p> <p>å¥½åœ¨æˆ‘åªæ˜¯åœ¨é¡¹ç›®å†™äº†ä¸€ä¸‹ require å°±æœ‰äº†æé†’ï¼ŒæŒ‰ç…§æé†’é…ç½®å°±æˆåŠŸäº†ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºé¡¹ç›®æ˜¯ ts çš„åŸå› ã€‚
<img src="/assets/img/11.10b0a95b.png" alt="An Image"></p> <p>è¿™ç§æ–¹å¼æ„Ÿè§‰åé¢è¿˜æœ‰å‘ï¼Œä½†æ˜¯ç›®å‰æ²¡è¸©åˆ°ï¼Œå°±ç®—äº†ã€‚ç¢°åˆ°äº†ï¼Œå†å¡«å§ï½</p> <h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="header-anchor">#</a> å‚è€ƒæ–‡æ¡£</h2> <ol><li><a href="https://juejin.cn/post/7212436135287504954" target="_blank" rel="noopener noreferrer">ä¸€æ–‡å½»åº•ææ‡‚ package.json ä¸­çš„ exports,main,module,type<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7032278473389539365" target="_blank" rel="noopener noreferrer">å…³äº package.json ä¸­ type å±æ€§çš„å«ä¹‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpack.docschina.org/concepts/module-resolution/#resolving-rules-in-webpack" target="_blank" rel="noopener noreferrer">Webpack å®˜ç½‘-æ¨¡å—è§£æç¯‡ç« <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpack.docschina.org/configuration/resolve/#resolvealias" target="_blank" rel="noopener noreferrer">webpack å®˜ç½‘-Resolve ç¯‡ç« <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://nodejs.cn/dist/latest-v20.x/docs/api/packages.html#type" target="_blank" rel="noopener noreferrer">module/package åŒ…æ¨¡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>æœ€åæ„Ÿè°¢<a href="https://yiyan.baidu.com/" target="_blank" rel="noopener noreferrer">æ–‡å¿ƒä¸€è¨€<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸åœç»™æˆ‘æ™®åŠå„ç§ä¸æ‡‚çš„ä¸œè¥¿ã€‚o(^â–½^)o</strong></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a86fb578.js" defer></script><script src="/assets/js/2.f4c76e8f.js" defer></script><script src="/assets/js/4.03ca31d0.js" defer></script>
  </body>
</html>
